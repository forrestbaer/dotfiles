set realname="Forrest Baer"
set from="gfbaer@gmail.com"

set imap_user="gfbaer@gmail.com"
set imap_pass="63G[;9#^$s4J8Y8&Q8E+"
# set imap_pass=`/usr/bin/security find-generic-password -w -a 'mail.vpal@gmail.com' -s 'Gmail'`

set folder=imaps://imap.gmail.com/
set spoolfile=+INBOX
set record="+[Gmail]/Sent Mail"
set postponed="+[Gmail]/Drafts"

# https://www.neomutt.org/guide/reference search sleep_time for additional info
set sleep_time=0 # be faster

set sort=reverse-date   # default sorting by date
# When sorting by threads, this variable controls how threads are sorted
# in relation to other threads, and how the branches of the thread trees are sorted.
set sort_aux=last-date-received

set smtp_url="smtp://gfbaer@gmail.com@smtp.gmail.com:587/"
# set smtp_pass=`/usr/bin/security find-generic-password -w -a 'mail.vpal@gmail.com' -s 'Gmail'`
set smtp_authenticators="gssapi:login"

macro pager \cb <pipe-entry>'urlview'<enter> 'Follow links with urlview'

bind attach,index,pager \CD next-page
bind attach,index,pager \CU previous-page
bind pager g top
bind pager G bottom
bind attach,index g first-entry
bind attach,index G last-entry

auto_view text/html                                      # view html automatically
alternative_order text/plain text/enriched text/html     # save html for last

# You can use any gmail imap mailboxes
mailboxes =INBOX =[Gmail]/Sent\ Mail =[Gmail]/Drafts =[Gmail]/Spam =[Gmail]/Trash

set mail_check = 120
set timeout = 3000
set imap_keepalive = 3000
set mailcap_path="~/.config/neomutt/mailcap"
set edit_headers
set tilde
set nobeep
set pager_stop

set quote_regexp="^( {0,4}[>|:#%]| {0,4}[a-z0-9]+[>|]+)+"

bind pager k previous-line
bind pager j next-line
bind pager h previous-undeleted
bind pager l next-undeleted


# COLORSCHEME
color normal     white         default

# main colors
color status     white         brightblack
color indicator  brightwhite   default
color tree       blue          default
color error      brightred     default
color message    brightyellow  default

# color all ML mails
#  color index      blue          default "~u"

# uncolor certain messages
uncolor index "~P"
uncolor index "~C @.com"
uncolor index "~N ~u"
uncolor index "~N !~u"
uncolor index "~T"
uncolor index "~D"

# and recolor them appropriately
color index      brightblack   default "~P"
color index      green         default "~C @.com"
color index      brightcyan    default "~N ~u"  # new ML mail
color index      brightyellow  default "~N !~u" # new non-ML mail
color index      brightgreen   default "~T"
color index      brightred     default "~D"

# set up the headers
color header     cyan          default "^from:"
color header     cyan          default "^to:"
color header     cyan          default "^cc:"
color header     brightcyan    default "^date:"
color header     white         default "^subject:"

# message bodies
color attachment brightblack   default
color search     red           brightblack
color signature  cyan          default
color tilde      brightblack   default

# urls
color body       brightblue    default "(^|<| )mailto:[^ ]+@[^ ]( |>|$)"
color body       brightblue    default "(^|<| )(http|https|ftp|file|telnet|news|finger)://[^ ]+( |>|$)"

# *bold*, _underline_, and /italic/
color body       brightcyan    default "(^| )\\*[^ ]+\\*( |$)"
color body       brightcyan    default "(^| )_[^ ]+_( |$)"
color body       brightcyan    default "(^| )/[^ ]+/( |$)"

# quote blocks
color quoted     magenta       default
color quoted1    cyan          default
color quoted2    green         default
color quoted3    magenta       default
color quoted4    cyan          default
color quoted5    green         default
color quoted6    magenta       default
color quoted7    cyan          default
